# Default values for todo-app
# This is a YAML-formatted file.

# Global settings
global:
  namespace: todo-app
  imagePullPolicy: IfNotPresent

# Chat API Service
chatApi:
  enabled: true
  name: chat-api
  replicaCount: 2
  image:
    repository: ghcr.io/yourusername/chat-api
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
    targetPort: 8000
  resources:
    requests:
      memory: "512Mi"
      cpu: "200m"
    limits:
      memory: "1Gi"
      cpu: "1000m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  dapr:
    enabled: true
    appId: chat-api
    appPort: 8000
    logLevel: info

# Recurring Task Service
recurringTaskService:
  enabled: true
  name: recurring-task-service
  replicaCount: 2
  image:
    repository: ghcr.io/yourusername/recurring-task-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8001
    targetPort: 8001
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  dapr:
    enabled: true
    appId: recurring-task-service
    appPort: 8001
    logLevel: info

# Notification Service
notificationService:
  enabled: true
  name: notification-service
  replicaCount: 2
  image:
    repository: ghcr.io/yourusername/notification-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8002
    targetPort: 8002
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  dapr:
    enabled: true
    appId: notification-service
    appPort: 8002
    logLevel: info

# Frontend Service
frontend:
  enabled: true
  name: frontend
  replicaCount: 2
  image:
    repository: ghcr.io/yourusername/frontend
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: LoadBalancer
    port: 3000
    targetPort: 3000
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "1Gi"
      cpu: "1000m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  dapr:
    enabled: true
    appId: frontend
    appPort: 3000
    logLevel: info
  ingress:
    enabled: true
    className: nginx
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - host: todo.example.com
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: todo-tls
        hosts:
          - todo.example.com

# Secrets
secrets:
  databaseUrl: ""  # Set via --set or values override
  openaiApiKey: ""  # Set via --set or values override
  betterAuthSecret: ""  # Set via --set or values override
  emailApiKey: ""  # Set via --set or values override

# Dapr Configuration
dapr:
  enabled: true
  sidecarImage: daprio/daprd:1.14.0
  logLevel: info
  enableMetrics: true
  metricsPort: 9090
